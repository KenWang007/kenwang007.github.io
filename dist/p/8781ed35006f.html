<!DOCTYPE html>
<html lang="zh-CN" class="page-article">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜ - å…³é”®è¯: æ¶æ„, Clawdbot, å®ç°åŸç†ä¸æ¶æ„è¯´æ˜">
    <meta name="keywords" content="æ¶æ„, Clawdbot, å®ç°åŸç†ä¸æ¶æ„è¯´æ˜">
    <meta name="author" content="Ken Wang">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://kenwang007.github.io/dist/p/8781ed35006f.html">
    <meta property="og:title" content="Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜ - Kençš„çŸ¥è¯†åº“">
    <meta property="og:description" content="Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜ - å…³é”®è¯: æ¶æ„, Clawdbot, å®ç°åŸç†ä¸æ¶æ„è¯´æ˜">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://kenwang007.github.io/dist/p/8781ed35006f.html">
    <meta property="twitter:title" content="Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜ - Kençš„çŸ¥è¯†åº“">
    <meta property="twitter:description" content="Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜ - å…³é”®è¯: æ¶æ„, Clawdbot, å®ç°åŸç†ä¸æ¶æ„è¯´æ˜">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#6366f1">
    
    <title>Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜ - Kençš„çŸ¥è¯†åº“</title>
    <link rel="stylesheet" href="/style.css?v=2.1.2">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22 fill=%22%236366f1%22>ğŸ“š</text></svg>">
    <link rel="canonical" href="https://kenwang007.github.io/dist/p/8781ed35006f.html">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="Kençš„çŸ¥è¯†åº“ RSS Feed" href="/rss.xml">
    
    <!-- Breadcrumb Navigation -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "é¦–é¡µ",
          "item": "https://kenwang007.github.io/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜",
          "item": "https://kenwang007.github.io/dist/p/8781ed35006f.html"
        }
      ]
    }
    </script>
    
    <!-- Article Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜",
      "description": "Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜ - å…³é”®è¯: æ¶æ„, Clawdbot, å®ç°åŸç†ä¸æ¶æ„è¯´æ˜",
      "author": {
        "@type": "Person",
        "name": "Ken Wang"
      },
      "datePublished": "2026-01-30T20:25:22.935840",
      "dateModified": "2026-01-30T20:25:22.935840",
      "inLanguage": "zh-CN"
    }
    </script>
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <div class="stars"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>

    <!-- é¡¶éƒ¨å›ºå®šå¯¼èˆª -->
    <header class="top-nav">
        <div class="nav-container">
            <div class="logo">
                <a href="/index.html">
                    <span class="logo-text">ğŸ“š Kençš„çŸ¥è¯†åº“</span>
                </a>
            </div>
            <nav class="main-nav">
                <ul id="nav-menu" class="nav-menu">
                    <!-- åŠ¨æ€ç”Ÿæˆçš„å¯¼èˆªèœå•é¡¹ -->
                </ul>
            </nav>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        <!-- å·¦ä¾§å›ºå®šå…³é”®è¯ç´¢å¼• -->
        <aside class="keyword-sidebar">
            <div class="keyword-header">
                <h3>å…³é”®è¯ç´¢å¼•</h3>
            </div>
            <div class="keyword-list" id="keyword-list">
                <!-- åŠ¨æ€ç”Ÿæˆçš„å…³é”®è¯ -->
            </div>
        </aside>

        <!-- ä¸­é—´ä¸»å†…å®¹ -->
        <section class="content-area">
            <div class="content-wrapper">
                <article class="markdown-content">
                    
<h1 id="clawdbot-å®ç°åŸç†ä¸æ¶æ„è¯´æ˜">Clawdbot å®ç°åŸç†ä¸æ¶æ„è¯´æ˜</h1>
<h2 id="ç›®å½•">ğŸ“‹ ç›®å½•</h2>
<ol type="1">
<li><a href="#1-clawdbot-æ ¸å¿ƒæ¶æ„">Clawdbot æ ¸å¿ƒæ¶æ„</a></li>
<li><a
href="#2-ä¸ºä»€ä¹ˆèƒ½é€šè¿‡å‘½ä»¤è¡Œæ“ä½œæœ¬åœ°ç”µè„‘">ä¸ºä»€ä¹ˆèƒ½é€šè¿‡å‘½ä»¤è¡Œæ“ä½œæœ¬åœ°ç”µè„‘</a></li>
<li><a href="#3-ä¸ºä»€ä¹ˆéœ€è¦-gateway-çš„å­˜åœ¨">ä¸ºä»€ä¹ˆéœ€è¦ Gateway
çš„å­˜åœ¨</a></li>
<li><a href="#4-è°ƒç”¨-llm-æ—¶çš„éšç§é£é™©">è°ƒç”¨ LLM æ—¶çš„éšç§é£é™©</a></li>
</ol>
<hr />
<h2 id="clawdbot-æ ¸å¿ƒæ¶æ„">1. Clawdbot æ ¸å¿ƒæ¶æ„</h2>
<h3 id="æ•´ä½“æ¶æ„å›¾">1.1 æ•´ä½“æ¶æ„å›¾</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚   å¤šç§å®¢æˆ·ç«¯                                         â”‚
â”‚   WebChat / CLI / macOS app / iOS / Android / Slack / Discord  â”‚
â”‚                                                      â”‚
â”‚              â–¼                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚         Gateway (æœ¬åœ°æœåŠ¡)       â”‚              â”‚
â”‚   â”‚    ws://127.0.0.1:18789          â”‚              â”‚
â”‚   â”‚                                  â”‚              â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚              â”‚
â”‚   â”‚ â”‚  AI Agent (Pi Agent)     â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - æ¥æ”¶ç”¨æˆ·æŒ‡ä»¤            â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - è°ƒç”¨ LLM API              â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - è·¯ç”±åˆ°å·¥å…·è°ƒç”¨            â”‚   â”‚              â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚
â”‚   â”‚                                  â”‚              â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚              â”‚
â”‚   â”‚ â”‚  å·¥å…·è°ƒåº¦å™¨               â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - exec (shell å‘½ä»¤)       â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - browser (æµè§ˆå™¨æ§åˆ¶)      â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - nodes (è®¾å¤‡èŠ‚ç‚¹)         â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - canvas (ç”»å¸ƒ)           â”‚   â”‚              â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚
â”‚   â”‚                                  â”‚              â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚              â”‚
â”‚   â”‚ â”‚  ç³»ç»Ÿæ¡¥æ¥å±‚               â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - macOS: AppleScript       â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - Linux: D-Bus             â”‚   â”‚              â”‚
â”‚   â”‚ â”‚  - iOS/Android: æœ¬åœ° API      â”‚   â”‚              â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<hr />
<h3 id="gateway-çš„æ ¸å¿ƒç»„ä»¶">1.2 Gateway çš„æ ¸å¿ƒç»„ä»¶</h3>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Gateway (Node.js) æ˜¯ä¸€ä¸ªæœ¬åœ°è¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> Gateway <span class="op">=</span> {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 1. WebSocket æœåŠ¡å™¨</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">server</span><span class="op">:</span> {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">port</span><span class="op">:</span> <span class="dv">18789</span><span class="op">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">protocol</span><span class="op">:</span> <span class="st">&#39;ws://&#39;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 2. é€šé“ç®¡ç†å™¨</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">channels</span><span class="op">:</span> {</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">whatsapp</span><span class="op">:</span> WhatsAppBot<span class="op">,</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">telegram</span><span class="op">:</span> TelegramBot<span class="op">,</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">discord</span><span class="op">:</span> DiscordBot<span class="op">,</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">slack</span><span class="op">:</span> SlackBot<span class="op">,</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">imessage</span><span class="op">:</span> BlueBubblesPlugin<span class="op">,</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...æ›´å¤šé€šé“</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 3. ä¼šè¯ç®¡ç†å™¨</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">sessions</span><span class="op">:</span> {</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">store</span><span class="op">:</span> SQLite <span class="op">/</span> Memory<span class="op">,</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">mainSession</span><span class="op">:</span> <span class="st">&#39;agent:main:main&#39;</span><span class="op">,</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">reset</span><span class="op">:</span> {</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>      <span class="dt">mode</span><span class="op">:</span> <span class="st">&#39;daily&#39;</span>  <span class="co">// æ¯å¤©é‡ç½®å†å²</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 4. å·¥å…·è·¯ç”±å™¨</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="dt">tools</span><span class="op">:</span> {</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    <span class="dt">exec</span><span class="op">:</span> ExecTool<span class="op">,</span>      <span class="co">// shell å‘½ä»¤æ‰§è¡Œ</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="dt">browser</span><span class="op">:</span> BrowserTool<span class="op">,</span> <span class="co">// æµè§ˆå™¨æ§åˆ¶</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="dt">nodes</span><span class="op">:</span> NodesTool<span class="op">,</span>     <span class="co">// è®¾å¤‡èŠ‚ç‚¹è°ƒç”¨</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">canvas</span><span class="op">:</span> CanvasTool<span class="op">,</span>   <span class="co">// ç”»å¸ƒäº¤äº’</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">cron</span><span class="op">:</span> CronTool        <span class="co">// å®šæ—¶ä»»åŠ¡</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 5. AI Agent (Pi Agent)</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  <span class="dt">agent</span><span class="op">:</span> {</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">model</span><span class="op">:</span> <span class="st">&#39;anthropic/claude-opus-4-5&#39;</span><span class="op">,</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    <span class="dt">contextWindow</span><span class="op">:</span> <span class="dv">100000</span><span class="op">,</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    <span class="dt">tools</span><span class="op">:</span> streaming</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 6. é…ç½®ç®¡ç†</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>  <span class="dt">config</span><span class="op">:</span> {</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">auth</span><span class="op">:</span> {}<span class="op">,</span>        <span class="co">// è®¤è¯é…ç½®</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">security</span><span class="op">:</span> {}<span class="op">,</span>    <span class="co">// å®‰å…¨ç­–ç•¥</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">agents</span><span class="op">:</span> {}       <span class="co">// Agent é…ç½®</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<hr />
<h2 id="ä¸ºä»€ä¹ˆèƒ½é€šè¿‡å‘½ä»¤è¡Œæ“ä½œæœ¬åœ°ç”µè„‘">2.
ä¸ºä»€ä¹ˆèƒ½é€šè¿‡å‘½ä»¤è¡Œæ“ä½œæœ¬åœ°ç”µè„‘ï¼Ÿ</h2>
<h3 id="æ ¸å¿ƒåŸç†æœ¬åœ°è¿è¡Œ-ç³»ç»Ÿè°ƒç”¨">2.1 æ ¸å¿ƒåŸç†ï¼šæœ¬åœ°è¿è¡Œ +
ç³»ç»Ÿè°ƒç”¨</h3>
<h4 id="gateway-ä½œä¸ºæœ¬åœ°æœåŠ¡">2.1.1 Gateway ä½œä¸ºæœ¬åœ°æœåŠ¡</h4>
<p><strong>å¯åŠ¨æ–¹å¼ï¼š</strong></p>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æ–¹å¼ 1: ä½œä¸ºç³»ç»ŸæœåŠ¡ï¼ˆmacOSï¼‰</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> gateway <span class="at">--port</span> 18789</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># â†‘ é€šè¿‡ launchd è‡ªåŠ¨å¯åŠ¨ï¼Œå¼€æœºè‡ªå¯</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># æ–¹å¼ 2: æ‰‹åŠ¨å¯åŠ¨</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> gateway <span class="at">--port</span> 18789 <span class="at">--verbose</span></span></code></pre></div>
<p><strong>æƒé™ï¼š</strong> - âœ… å®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®ï¼ˆè¯»å†™ä»»æ„æ–‡ä»¶ï¼‰ - âœ…
shell å‘½ä»¤æ‰§è¡Œæƒé™ï¼ˆexec å·¥å…·ï¼‰ - âœ… é€šè¿‡ AppleScript/D-Bus è°ƒç”¨ç³»ç»Ÿåº”ç”¨
- âœ… æŒä¹…åŒ–é…ç½®å­˜å‚¨ï¼ˆ~/.clawdbot/ï¼‰</p>
<hr />
<h4 id="exec-å·¥å…·çš„å®ç°">2.1.2 exec å·¥å…·çš„å®ç°</h4>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exec å·¥å…·æä¾›äº†ä»€ä¹ˆèƒ½åŠ›</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. æ‰§è¡Œä»»æ„ shell å‘½ä»¤</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> agent <span class="at">--message</span> <span class="st">&quot;åˆ—å‡ºå½“å‰ç›®å½•çš„æ–‡ä»¶&quot;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># â†“ è½¬æ¢ä¸º â†’ exec([&#39;ls&#39;, &#39;-la&#39;])</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. é€šè¿‡ AppleScript æ“ä½œ macOS åº”ç”¨</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> agent <span class="at">--message</span> <span class="st">&quot;æ·»åŠ æ—¥å†äº‹ä»¶&quot;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># â†“ è½¬æ¢ä¸º â†’ exec([&#39;osascript&#39;, &#39;-e&#39;, &#39;tell application &quot;Calendar&quot; to make new event...&#39;])</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. é€šè¿‡èŠ‚ç‚¹è°ƒç”¨è®¾å¤‡åŠŸèƒ½</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> agent <span class="at">--message</span> <span class="st">&quot;ç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§&quot;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># â†“ è½¬æ¢ä¸º â†’ node.invoke(&#39;camera_snap&#39;)</span></span></code></pre></div>
<hr />
<h4 id="macos-ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹">2.1.3 macOS ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹</h4>
<p><strong>AppleScript ä¸ç³»ç»Ÿåº”ç”¨çš„é€šä¿¡ï¼š</strong></p>
<pre class="applescript"><code># æ—¥å†åº”ç”¨
tell application &quot;Calendar&quot;
  make new event at end of events with properties {summary:&quot;ä¼šè®®&quot;, start date:theDate}
end tell

# æé†’åº”ç”¨
tell application &quot;Reminders&quot;
  make new reminder with properties {name:&quot;åˆé¤æé†’&quot;, due date:theDate}
end tell

# æ–‡ä»¶ç®¡ç†å™¨
tell application &quot;Finder&quot;
  open folder &quot;~/Documents&quot;
end tell

# é€šçŸ¥ç³»ç»Ÿ
tell application &quot;System Events&quot;
  display notification &quot;ä»»åŠ¡å®Œæˆ&quot;
end tell</code></pre>
<p><strong>å®Œæ•´æµç¨‹ç¤ºä¾‹ï¼ˆæ·»åŠ æé†’ï¼‰ï¼š</strong></p>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 1: ç”¨æˆ·åœ¨ WebChat ä¸­å‘é€æ¶ˆæ¯</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ç”¨æˆ·:</span> <span class="st">&quot;æ·»åŠ æ˜å¤©ä¸­åˆ12ç‚¹çš„æé†’&quot;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 2: WebChat é€šè¿‡ WebSocket å‘é€åˆ° Gateway</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ws.send</span><span class="er">(</span><span class="ex">JSON.stringify</span><span class="er">(</span><span class="kw">{</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">type:</span> <span class="st">&#39;user_message&#39;</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">content:</span> <span class="st">&#39;æ·»åŠ æ˜å¤©ä¸­åˆ12ç‚¹çš„æé†’&#39;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="kw">}))</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 3: Gateway æ¥æ”¶å¹¶è½¬å‘ç»™ AI Agent</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="ex">gateway.on</span><span class="er">(</span><span class="st">&#39;user_message&#39;</span><span class="ex">,</span> async <span class="er">(</span><span class="ex">data</span><span class="kw">)</span> <span class="ex">=</span><span class="op">&gt;</span> {</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">await</span> agent.process<span class="er">(</span><span class="ex">data</span><span class="kw">)</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="er">}</span><span class="kw">)</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 4: AI Agent åˆ†æéœ€æ±‚ï¼Œå†³å®šè°ƒç”¨å·¥å…·</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="ex">agent:</span> {</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">tools:</span> {</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="ex">exec:</span> {</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>      <span class="ex">command:</span> [<span class="st">&#39;osascript&#39;</span>, <span class="st">&#39;-e&#39;</span>, </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">`</span><span class="ex">tell</span> application <span class="st">&quot;Reminders&quot;</span> </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>         <span class="fu">make</span> new reminder </span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>         <span class="ex">with</span> properties {</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>           <span class="ex">name:</span><span class="st">&quot;æ˜å¤©ä¸­åˆ12ç‚¹ - åˆé¤æé†’&quot;</span><span class="ex">,</span> </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>           <span class="ex">due</span> date:date <span class="st">&quot;2026-01-30 12:00:00&quot;</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>         <span class="er">}</span><span class="kw">`</span>]</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 5: Gateway æ‰§è¡Œå·¥å…·å‘½ä»¤</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="ex">const</span> result = await exec<span class="er">(</span><span class="bu">command</span><span class="kw">)</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 6: è¿”å›ç»“æœç»™ AI Agent</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="ex">agent.receive</span><span class="er">(</span><span class="ex">result</span><span class="kw">)</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 7: Agent ç”Ÿæˆå›å¤</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="ex">const</span> response = <span class="st">&quot;âœ… å·²æ·»åŠ æé†’åˆ°ç³»ç»Ÿ Reminders&quot;</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 8: Gateway é€šè¿‡ WebSocket æ¨é€ç»™æ‰€æœ‰å®¢æˆ·ç«¯</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="ex">ws.send</span><span class="er">(</span><span class="ex">JSON.stringify</span><span class="er">(</span><span class="kw">{</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  <span class="ex">type:</span> <span class="st">&#39;assistant_response&#39;</span>,</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="ex">content:</span> response</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a><span class="kw">}))</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="co"># æ­¥éª¤ 9: WebChat æ˜¾ç¤ºå›å¤</span></span></code></pre></div>
<hr />
<h4 id="ä¸åŒæ“ä½œç³»ç»Ÿçš„è°ƒç”¨æ–¹å¼">2.1.4 ä¸åŒæ“ä½œç³»ç»Ÿçš„è°ƒç”¨æ–¹å¼</h4>
<table style="width:100%;">
<colgroup>
<col style="width: 16%" />
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>macOS æ–¹æ³•</th>
<th>Linux æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ—¥å†</td>
<td><code>osascript -e 'tell application "Calendar"'</code></td>
<td><code>dbus-send --print-reply</code></td>
<td>é€šè¿‡ç³»ç»Ÿçº§ API è°ƒç”¨</td>
</tr>
<tr>
<td>æé†’</td>
<td><code>osascript -e 'tell application "Reminders"'</code></td>
<td><code>task add</code></td>
<td>åŒä¸Š</td>
</tr>
<tr>
<td>æ–‡ä»¶</td>
<td><code>osascript -e 'tell application "Finder"'</code></td>
<td><code>gio open</code></td>
<td>é€šè¿‡æ–‡ä»¶ç®¡ç†å™¨æ“ä½œ</td>
</tr>
<tr>
<td>æµè§ˆå™¨</td>
<td>é€šè¿‡ CDP åè®®æ§åˆ¶ Chrome/Chromium</td>
<td>åŒå·¦</td>
<td>è¿œç¨‹æ§åˆ¶æµè§ˆå™¨</td>
</tr>
<tr>
<td>ç…§ç‰‡</td>
<td><code>camera_snap</code> èŠ‚ç‚¹è°ƒç”¨</td>
<td><code>v4l2-ctl</code></td>
<td>è°ƒç”¨æ‘„åƒå¤´ç¡¬ä»¶</td>
</tr>
<tr>
<td>å½•å±</td>
<td><code>screen_record</code></td>
<td><code>ffmpeg -f x11grab</code></td>
<td>å±å¹•å½•åˆ¶</td>
</tr>
<tr>
<td>é€šçŸ¥</td>
<td><code>system_notify</code></td>
<td><code>notify-send</code></td>
<td>ç³»ç»Ÿé€šçŸ¥</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="ä¸ºä»€ä¹ˆç§°ä¸ºæœ¬åœ°ä¼˜å…ˆ">2.2 ä¸ºä»€ä¹ˆç§°ä¸ºâ€æœ¬åœ°ä¼˜å…ˆâ€ï¼Ÿ</h3>
<pre><code>ä¼ ç»Ÿäº‘ç«¯ AI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº‘ç«¯æœåŠ¡å™¨  â”‚ â—€â”€â”€ ä½ çš„è¯·æ±‚ â†’ äº‘ç«¯å¤„ç† â†’ è¿”å›ç»“æœ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Clawdbot æœ¬åœ°ä¼˜å…ˆ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½ çš„ Mac    â”‚ â—€â”€â”€ ç›´æ¥æ‰§è¡Œæœ¬åœ°å‘½ä»¤ â†’ æ— éœ€ä¸Šä¼ æ•°æ®
â”‚  (æœ¬åœ°è¿è¡Œ)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<p><strong>æœ¬åœ°ä¼˜å…ˆçš„ä¼˜åŠ¿ï¼š</strong> - âœ…
æ•°æ®ä¸ç¦»å¼€æœ¬åœ°è®¾å¤‡ï¼ˆæ‰§è¡Œç»“æœåœ¨æœ¬åœ°å¤„ç†ï¼‰ - âœ…
å“åº”é€Ÿåº¦å¿«ï¼ˆæœ¬åœ°ç½‘ç»œè°ƒç”¨ï¼Œä¸ç»è¿‡äº’è”ç½‘ï¼‰ - âœ…
ç¦»çº¿ä¹Ÿèƒ½ç”¨ï¼ˆæœ¬åœ°åŠŸèƒ½å¦‚æ–‡ä»¶æ“ä½œã€ç³»ç»Ÿè°ƒç”¨ï¼‰ - âœ…
å®Œå…¨æ§åˆ¶è‡ªå·±çš„æ•°æ®å’Œé…ç½®</p>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong> - âš ï¸ â€œæœ¬åœ°ä¼˜å…ˆâ€
ä¸»è¦ä½“ç°åœ¨å·¥å…·æ‰§è¡Œå±‚ï¼ˆexecã€file æ“ä½œï¼‰ - âš ï¸ LLM
è°ƒç”¨æœ¬èº«ä»ç„¶æ˜¯äº‘ç«¯çš„ï¼ˆé™¤éé…ç½®æœ¬åœ°æ¨¡å‹ï¼‰</p>
<hr />
<h3 id="å®é™…è¿è¡Œç¤ºä¾‹">2.3 å®é™…è¿è¡Œç¤ºä¾‹</h3>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># å¯åŠ¨ Gatewayï¼ˆä½œä¸ºç³»ç»ŸæœåŠ¡ï¼‰</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> gateway <span class="at">--port</span> 18789</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥çœ‹çŠ¶æ€</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> status</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># å‘é€æ¶ˆæ¯</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> message send <span class="at">--to</span> +1234567890 <span class="at">--message</span> <span class="st">&quot;ä½ å¥½&quot;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># åœ¨ WebChat ä¸­å¯¹è¯</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ç›´æ¥è®¿é—® ws://127.0.0.1:18789/webchat</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># é‡å¯ Gateway</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> gateway restart</span></code></pre></div>
<hr />
<h2 id="ä¸ºä»€ä¹ˆéœ€è¦-gateway-çš„å­˜åœ¨">3. ä¸ºä»€ä¹ˆéœ€è¦ Gateway çš„å­˜åœ¨ï¼Ÿ</h2>
<h3 id="æ²¡æœ‰-gateway-çš„é—®é¢˜">3.1 æ²¡æœ‰ Gateway çš„é—®é¢˜</h3>
<h4 id="åœºæ™¯æ¯ä¸ªå®¢æˆ·ç«¯ç‹¬ç«‹è¿æ¥">åœºæ™¯ï¼šæ¯ä¸ªå®¢æˆ·ç«¯ç‹¬ç«‹è¿æ¥</h4>
<pre><code>å®¢æˆ·ç«¯ A (WebChat) â”€â”
                    â”œâ”€ ç›´æ¥è¿æ¥ WhatsApp
å®¢æˆ·ç«¯ B (macOS app) â”œâ”€ ç›´æ¥è¿æ¥ Telegram  
å®¢æˆ·ç«¯ C (CLI)     â”œâ”€ ç›´æ¥è¿æ¥ Slack
å®¢æˆ·ç«¯ D (iOS node) â”€â”˜   â”œâ”€ ç›´æ¥è°ƒç”¨ macOS API
                          â””â”€ ç›´æ¥è¿è¡Œ shell å‘½ä»¤</code></pre>
<p><strong>å­˜åœ¨çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li>âŒ
<strong>ä»£ç é‡å¤</strong>ï¼šæ¯ä¸ªå®¢æˆ·ç«¯éƒ½è¦å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼ˆæ¶ˆæ¯æ”¶å‘ã€çŠ¶æ€ç®¡ç†ï¼‰</li>
<li>âŒ <strong>çŠ¶æ€ä¸ç»Ÿä¸€</strong>ï¼šCLI å‘é€çš„æ¶ˆæ¯ï¼ŒmacOS app
çœ‹ä¸åˆ°</li>
<li>âŒ
<strong>å·¥å…·åˆ†æ•£</strong>ï¼šæ¯ä¸ªå®¢æˆ·ç«¯éƒ½è¦å®ç°è‡ªå·±çš„æµè§ˆå™¨æ§åˆ¶ã€æ–‡ä»¶æ“ä½œ</li>
<li>âŒ
<strong>å®‰å…¨é£é™©</strong>ï¼šå¤šä¸ªç«¯ç‚¹è¿æ¥åŒä¸€æœåŠ¡ï¼Œæƒé™æ§åˆ¶å›°éš¾</li>
<li>âŒ <strong>èµ„æºæµªè´¹</strong>ï¼šæ¯ä¸ªå®¢æˆ·ç«¯éƒ½è¦ç»´æŠ¤ AI Agent
è¿è¡Œæ—¶</li>
<li>âŒ <strong>åŠŸèƒ½ä¸ä¸€è‡´</strong>ï¼šä¸åŒå®¢æˆ·ç«¯çš„åŠŸèƒ½å¯èƒ½æœ‰å·®å¼‚</li>
</ul>
<hr />
<h3 id="gateway-è§£å†³çš„æ ¸å¿ƒé—®é¢˜">3.2 Gateway è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h3>
<h4 id="ç»Ÿä¸€æ§åˆ¶å¹³é¢">3.2.1 ç»Ÿä¸€æ§åˆ¶å¹³é¢</h4>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Gateway                â”‚
â”‚    ws://127.0.0.1:18789          â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  é€šé“ç®¡ç†å™¨         â”‚        â”‚
â”‚  â”‚ - è¿æ¥/æ–­å¼€         â”‚        â”‚
â”‚  â”‚ - é‡è¿é€»è¾‘         â”‚        â”‚
â”‚  â”‚ - æ¶ˆæ¯é˜Ÿåˆ—         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  ä¼šè¯ç®¡ç†å™¨         â”‚        â”‚
â”‚  â”‚ - ä¸Šä¸‹æ–‡ä¿æŒ         â”‚        â”‚
â”‚  â”‚ - å†å²è®°å½•         â”‚        â”‚
â”‚  â”‚ - å¤šç«¯åŒæ­¥         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  å·¥å…·è·¯ç”±å™¨         â”‚        â”‚
â”‚  â”‚ - execã€browser      â”‚        â”‚
â”‚  â”‚ - canvasã€nodes      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  AI Agent (Pi)       â”‚        â”‚
â”‚  â”‚ - æ¨¡å‹è°ƒç”¨           â”‚        â”‚
â”‚  â”‚ - å·¥å…·æµå¼ä¼ è¾“       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<hr />
<h4 id="å®¢æˆ·ç«¯ç®€åŒ–ä¸ºå‚»ç“œç»ˆç«¯">3.2.2 å®¢æˆ·ç«¯ç®€åŒ–ä¸ºâ€å‚»ç“œç»ˆç«¯â€</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">// æ‰€æœ‰å®¢æˆ·ç«¯åªéœ€è¦åšä¸€ä»¶äº‹ï¼šè¿æ¥ Gateway</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> WebChat {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">constructor</span>() {</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">ws</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">WebSocket</span>(<span class="st">&#39;ws://127.0.0.1:18789/webchat&#39;</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  }  </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">send</span>(message) {</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">ws</span><span class="op">.</span><span class="fu">send</span>(<span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>({ <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;user_message&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> message }))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  }  </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">onMessage</span>(data) {</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">display</span>(data<span class="op">.</span><span class="at">assistant_response</span>)  <span class="co">// ç›´æ¥æ˜¾ç¤º</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> CLI {</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">main</span>(message) {</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> ws <span class="op">=</span> <span class="cf">await</span> <span class="fu">connect</span>(<span class="st">&#39;ws://127.0.0.1:18789&#39;</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    ws<span class="op">.</span><span class="fu">send</span>({ <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;user_message&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> message })</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="cf">await</span> (<span class="kw">const</span> data <span class="kw">of</span> ws<span class="op">.</span><span class="fu">on</span>(<span class="st">&#39;message&#39;</span>)) {</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (data<span class="op">.</span><span class="at">type</span> <span class="op">===</span> <span class="st">&#39;assistant_response&#39;</span>) {</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data<span class="op">.</span><span class="at">content</span>)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>å®¢æˆ·ç«¯çš„ä¼˜åŠ¿ï¼š</strong> - âœ…
<strong>æç®€å®¢æˆ·ç«¯</strong>ï¼šåªéœ€è¦ WebSocket + UI - âœ…
<strong>åŠŸèƒ½ä¸€è‡´</strong>ï¼šæ‰€æœ‰ç«¯äº«å—ç›¸åŒçš„åŠŸèƒ½ - âœ…
<strong>è‡ªåŠ¨æ›´æ–°</strong>ï¼šGateway æ›´æ–°ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯è‡ªåŠ¨å—ç›Š</p>
<hr />
<h4 id="ä¼šè¯ç»Ÿä¸€å’Œå…±äº«">3.2.3 ä¼šè¯ç»Ÿä¸€å’Œå…±äº«</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Gateway ç»Ÿä¸€ç®¡ç†ä¼šè¯çŠ¶æ€</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>Gateway çš„ä¼šè¯ç®¡ç†å™¨ï¼š</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>â”‚  Session State                   â”‚</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>â”‚  â”‚  agent<span class="op">:</span>main<span class="op">:</span>main      â”‚       â”‚</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>â”‚  â”‚ <span class="op">-</span> ä¸Šä¸‹æ–‡<span class="op">:</span> [è¿‡å»æ¶ˆæ¯]  â”‚       â”‚</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>â”‚  â”‚ <span class="op">-</span> ç”¨æˆ·åå¥½           â”‚       â”‚</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>â”‚  â”‚ <span class="op">-</span> å·¥å…·æƒé™           â”‚       â”‚</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>â”‚                                 â”‚</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>â”‚  å¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥æ¥å…¥åŒä¸€ä¼šè¯ï¼š       â”‚</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>â”‚  â€¢ WebChat                    â”‚</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>â”‚  â€¢ macOS menu bar             â”‚</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>â”‚  â€¢ <span class="fu">CLI</span> (ç»§ç»­å¯¹è¯)             â”‚</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></code></pre></div>
<p><strong>æ²¡æœ‰ Gatewayï¼š</strong> - âŒ WebChat çš„å¯¹è¯å’Œ macOS app
å®Œå…¨ç‹¬ç«‹ - âŒ CLI æ— æ³•ç»§ç»­ä¹‹å‰çš„å¯¹è¯</p>
<p><strong>æœ‰ Gatewayï¼š</strong> - âœ… åˆ‡æ¢è®¾å¤‡æ— ç¼ç»§ç»­åŒä¸€å¯¹è¯ - âœ…
ç»Ÿä¸€çš„ä¸Šä¸‹æ–‡å’Œè®°å¿†</p>
<hr />
<h4 id="å®‰å…¨å’Œæƒé™é›†ä¸­ç®¡ç†">3.2.4 å®‰å…¨å’Œæƒé™é›†ä¸­ç®¡ç†</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Gateway ä¸­å¤„ç†æ‰€æœ‰å®‰å…¨é—®é¢˜</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>Gateway å®‰å…¨å±‚ï¼š</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>â”‚  è®¤è¯ç®¡ç†å™¨                       â”‚</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> OAuth token ç®¡ç†                â”‚</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> API key è½®è¯¢å’Œé™çº§            â”‚</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> æ¨¡å‹æ•…éšœè½¬ç§»                 â”‚</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>â”‚                                  â”‚</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>â”‚  æƒé™æ§åˆ¶å™¨                       â”‚</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> channel<span class="op">.</span><span class="fu">allowFrom</span> (ç™½åå•)        â”‚</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> <span class="fu">dmPolicy</span> (ç§ä¿¡ç­–ç•¥)            â”‚</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> sandbox<span class="op">.</span><span class="fu">mode</span> (æ²™ç®±éš”ç¦»)         â”‚</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>â”‚                                  â”‚</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>â”‚  å®¡è®¡æ—¥å¿—                          â”‚</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> æ‰€æœ‰å·¥å…·è°ƒç”¨è®°å½•                â”‚</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="op">-</span> æ•æ„Ÿæ“ä½œè¿½è¸ª                 â”‚</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></code></pre></div>
<p><strong>æ²¡æœ‰ Gatewayï¼š</strong> - âŒ æ¯ä¸ªå®¢æˆ·ç«¯éƒ½è¦å®ç°è‡ªå·±çš„å®‰å…¨é€»è¾‘
- âŒ æƒé™ç­–ç•¥åˆ†æ•£ï¼Œéš¾ä»¥ç»Ÿä¸€ç®¡ç† - âŒ
å®¹æ˜“å‡ºç°å®‰å…¨æ¼æ´ï¼ˆæŸä¸ªå®¢æˆ·ç«¯æ¼äº†ï¼‰</p>
<hr />
<h4 id="å·¥å…·ç³»ç»Ÿçš„ç»Ÿä¸€è°ƒåº¦">3.2.5 å·¥å…·ç³»ç»Ÿçš„ç»Ÿä¸€è°ƒåº¦</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Gateway ä½œä¸ºå·¥å…·è°ƒåº¦ä¸­å¿ƒ</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>å·¥å…·è°ƒç”¨æµç¨‹ï¼š</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fl">1.</span> AI Agent åˆ†æéœ€è¦ä»€ä¹ˆå·¥å…·</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fl">2.</span> Agent å‘ Gateway è¯·æ±‚ï¼š{ <span class="dt">tool</span><span class="op">:</span> <span class="st">&#39;exec&#39;</span><span class="op">,</span> <span class="dt">args</span><span class="op">:</span> [<span class="op">...</span>] }</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fl">3.</span> Gateway æ£€æŸ¥æƒé™å’Œå®‰å…¨</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fl">4.</span> Gateway è·¯ç”±åˆ°æ­£ç¡®çš„æ‰§è¡Œå™¨</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fl">5.</span> Gateway è¿”å›ç»“æœç»™ Agent</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="fl">6.</span> Agent æ ¹æ®ç»“æœç»§ç»­æ€è€ƒ</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>ç¤ºä¾‹æµç¨‹ï¼š</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>â”‚          Gateway                â”‚</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>â”‚                                 â”‚</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>â”‚  Agent è¯·æ±‚ï¼š                    â”‚</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="st">&quot;å¸®æˆ‘æ‰“å¼€æµè§ˆå™¨æŸ¥ GitHub&quot;</span>       â”‚</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>â”‚        â†“                        â”‚</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>â”‚  Gateway è·¯ç”±ï¼š                  â”‚</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>â”‚  â”‚  browser<span class="op">.</span><span class="at">open</span> â†’ CDP    â”‚     â”‚</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>â”‚  â”‚  snapshot              â”‚     â”‚</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>â”‚  â”‚  act â†’ navigate        â”‚     â”‚</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>â”‚        â†“                        â”‚</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>â”‚  è¿”å›ç»™ Agentï¼š                    â”‚</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>â”‚  <span class="st">&quot;å·²æ‰“å¼€ GitHubï¼Œé¡µé¢å†…å®¹å¦‚ä¸‹...&quot;</span> â”‚</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></code></pre></div>
<p><strong>æ²¡æœ‰ Gatewayï¼š</strong> - âŒ
æ¯ä¸ªå®¢æˆ·ç«¯éƒ½è¦å®ç°å®Œæ•´çš„æµè§ˆå™¨æ§åˆ¶ - âŒ é‡å¤é€ è½®å­</p>
<hr />
<h3 id="æ€»ç»“gateway-çš„æ ¸å¿ƒä»·å€¼">3.3 æ€»ç»“ï¼šGateway çš„æ ¸å¿ƒä»·å€¼</h3>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>æ—  Gateway</th>
<th>æœ‰ Gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å¼€å‘å¤æ‚åº¦</strong></td>
<td>æ¯ä¸ªç«¯ç‚¹ç‹¬ç«‹å®ç°</td>
<td>é›†ä¸­å®ç°ä¸€æ¬¡</td>
</tr>
<tr>
<td><strong>ä»£ç é‡å¤</strong></td>
<td>å¤§é‡é‡å¤é€»è¾‘</td>
<td>DRY åŸåˆ™</td>
</tr>
<tr>
<td><strong>ä¼šè¯åŒæ­¥</strong></td>
<td>å®Œå…¨ç‹¬ç«‹</td>
<td>å¤šç«¯å…±äº«</td>
</tr>
<tr>
<td><strong>å®‰å…¨æ€§</strong></td>
<td>åˆ†æ•£ç®¡ç†</td>
<td>ç»Ÿä¸€æ§åˆ¶</td>
</tr>
<tr>
<td><strong>ç»´æŠ¤æˆæœ¬</strong></td>
<td>éœ€åŒæ—¶ç»´æŠ¤ N ä¸ªå®¢æˆ·ç«¯</td>
<td>åªç»´æŠ¤ Gateway</td>
</tr>
<tr>
<td><strong>åŠŸèƒ½ä¸€è‡´æ€§</strong></td>
<td>å¾ˆéš¾ä¿è¯</td>
<td>å¤©ç„¶ä¿è¯</td>
</tr>
<tr>
<td><strong>æ‰©å±•æ€§</strong></td>
<td>æ¯ä¸ªç«¯éƒ½è¦æ”¹</td>
<td>éƒ¨ç½² Gateway å³å¯</td>
</tr>
<tr>
<td><strong>æ–°åŠŸèƒ½</strong></td>
<td>æ¯ä¸ªç«¯éƒ½è¦é€‚é…</td>
<td>ä¸€æ¬¡æ¥å…¥</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="è°ƒç”¨-llm-æ—¶çš„éšç§é£é™©">4. è°ƒç”¨ LLM æ—¶çš„éšç§é£é™©</h2>
<h3 id="æ•°æ®æµå‘åˆ†æ">4.1 æ•°æ®æµå‘åˆ†æ</h3>
<pre><code>æœ¬åœ°è®¾å¤‡                          äº‘ç«¯ LLM API
     â”‚                                    â”‚
     â”œâ”€ ç”¨æˆ·æ¶ˆæ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”œâ”€ å¯¹è¯å†å² â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”œâ”€ ç³»ç»Ÿæç¤ºè¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â””â”€ å·¥å…·æ‰§è¡Œç»“æœ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</code></pre>
<p><strong>è¿™äº›å†…å®¹éƒ½ä¼šé€šè¿‡ HTTPS å‘é€åˆ° OpenAI/Anthropic ç­‰äº‘ç«¯
APIã€‚</strong></p>
<hr />
<h3 id="åˆ°åº•ä¼šæ³„æ¼ä»€ä¹ˆ">4.2 åˆ°åº•ä¼šæ³„æ¼ä»€ä¹ˆï¼Ÿ</h3>
<h4 id="å¯¹è¯å†å²æœ€å¤§çš„é£é™©">4.2.1 å¯¹è¯å†å²ï¼ˆæœ€å¤§çš„é£é™©ï¼‰</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Gateway ä¼šè¯ç®¡ç†å™¨å‘é€ç»™ LLM çš„å†…å®¹</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;messages&quot;</span><span class="op">:</span> [</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    { <span class="st">&quot;role&quot;</span><span class="op">:</span> <span class="st">&quot;user&quot;</span><span class="op">,</span> <span class="st">&quot;content&quot;</span><span class="op">:</span> <span class="st">&quot;å¸®æˆ‘ä¿®æ”¹ /etc/hosts&quot;</span> }<span class="op">,</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    { <span class="st">&quot;role&quot;</span><span class="op">:</span> <span class="st">&quot;assistant&quot;</span><span class="op">,</span> <span class="st">&quot;content&quot;</span><span class="op">:</span> <span class="st">&quot;å¥½çš„ï¼Œå·²æ‰§è¡Œ...&quot;</span> }<span class="op">,</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    { <span class="st">&quot;role&quot;</span><span class="op">:</span> <span class="st">&quot;user&quot;</span><span class="op">,</span> <span class="st">&quot;content&quot;</span><span class="op">:</span> <span class="st">&quot;è¿˜æœ‰æ˜¨å¤©æˆ‘ä»¬è®¨è®ºçš„æœºå¯†è®¡åˆ’&quot;</span> }</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>é£é™©ï¼š</strong> - æ‰€æœ‰å¯¹è¯å†å²éƒ½ä¼šå‘é€åˆ°äº‘ç«¯ -
åŒ…æ‹¬ä¹‹å‰è®¨è®ºçš„æ•æ„Ÿä¿¡æ¯ - å³ä½¿ä½ â€å¿˜è®°â€äº†ï¼Œäº‘ç«¯ API è®°å½•å¯èƒ½è¿˜åœ¨</p>
<hr />
<h4 id="ç³»ç»Ÿæç¤ºè¯">4.2.2 ç³»ç»Ÿæç¤ºè¯</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// AGENTS.mdã€SOUL.mdã€TOOLS.md ç­‰æ–‡ä»¶å†…å®¹</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> systemPrompt <span class="op">=</span> <span class="fu">loadFile</span>(<span class="st">&#39;AGENTS.md&#39;</span>) <span class="op">+</span> <span class="fu">loadFile</span>(<span class="st">&#39;SOUL.md&#39;</span>)</span></code></pre></div>
<p><strong>é£é™©ï¼š</strong> - æ‰€æœ‰æ³¨å…¥åˆ° Agent çš„é…ç½®éƒ½ä¼šå‘é€ç»™ LLM -
åŒ…æ‹¬ä½ å®šä¹‰çš„å·¥ä½œç©ºé—´ã€åå¥½è®¾ç½®ç­‰</p>
<hr />
<h4 id="å·¥å…·æ‰§è¡Œç»“æœ">4.2.3 å·¥å…·æ‰§è¡Œç»“æœ</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Agent è°ƒç”¨ exec è¯»å–æ–‡ä»¶å</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> toolResult <span class="op">=</span> <span class="fu">exec</span>(<span class="st">&#39;cat /Users/jianwang/secret.txt&#39;</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">// è¿™ä¸ªç»“æœä¼šè¢«å‘é€å› LLM ç”¨äºä¸Šä¸‹æ–‡</span></span></code></pre></div>
<p><strong>é£é™©ï¼š</strong> - å¦‚æœ Agent è¯»å–äº†æ•æ„Ÿæ–‡ä»¶ï¼Œå†…å®¹ä¼šå‡ºç°åœ¨ LLM
çš„ä¸Šä¸‹æ–‡ä¸­ - å³ä½¿æ–‡ä»¶æœ¬èº«ä¸ç›´æ¥å‘é€ï¼Œä½†è¯»å–åçš„â€è®°å¿†â€ä¼šæŒç»­å­˜åœ¨</p>
<hr />
<h3 id="clawdbot-çš„å®‰å…¨æªæ–½">4.3 Clawdbot çš„å®‰å…¨æªæ–½</h3>
<p>å°½ç®¡æœ‰é£é™©ï¼ŒClawdbot <strong>ç¡®å®å®ç°äº†å¤šé¡¹å®‰å…¨æœºåˆ¶</strong>ï¼š</p>
<h4 id="é…ç½®å±‚é¢çš„æ§åˆ¶">4.3.1 é…ç½®å±‚é¢çš„æ§åˆ¶</h4>
<pre><code class="language-json"><code class="sourceCode json"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;agents&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;defaults&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;contextTokens&quot;</span><span class="fu">:</span> <span class="dv">100000</span><span class="fu">,</span>  <span class="er">//</span> <span class="er">é™åˆ¶ä¸Šä¸‹æ–‡å¤§å°</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;session&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;reset&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;mode&quot;</span><span class="fu">:</span> <span class="st">&quot;daily&quot;</span>  <span class="er">//</span> <span class="er">æ¯å¤©é‡ç½®ä¼šè¯ï¼Œæ—§å†å²ä¸ä¼šç´¯ç§¯</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">},</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;memorySearch&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span>  <span class="er">//</span> <span class="er">æœ¬åœ°è®°å¿†æœç´¢ï¼Œä¸ç”¨æ¯æ¬¡é‡ä¼ </span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h4 id="æ¨¡å‹æä¾›å•†é€‰æ‹©">4.3.2 æ¨¡å‹æä¾›å•†é€‰æ‹©</h4>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># å¯ä»¥é€‰æ‹©ä¸åŒæä¾›å•†</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">anthropic/claude-opus-4-5</span>      <span class="co"># Anthropic æ‰¿è¯ºä¸è®­ç»ƒæ•°æ®</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="ex">openai/gpt-4</span>                  <span class="co"># OpenAI çš„éšç§æ”¿ç­–</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="ex">zai/glm-4.7</span>                    <span class="co"># å¯èƒ½æ˜¯æœ¬åœ°/ä¸­å›½æ¨¡å‹</span></span></code></pre></div>
<hr />
<h4 id="æœ¬åœ°æ¨¡å‹é€‰é¡¹">4.3.3 æœ¬åœ°æ¨¡å‹é€‰é¡¹</h4>
<pre><code class="language-json"><code class="sourceCode json"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;models&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;providers&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ollama&quot;</span><span class="fu">:</span> <span class="fu">{</span>  <span class="er">//</span> <span class="er">æœ¬åœ°</span> <span class="er">LLMï¼Œæ•°æ®ä¸ç¦»å¼€è®¾å¤‡</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;baseUrl&quot;</span><span class="fu">:</span> <span class="st">&quot;http://localhost:11434&quot;</span><span class="fu">,</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;apiKey&quot;</span><span class="fu">:</span> <span class="st">&quot;local&quot;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h4 id="å·¥å…·æƒé™æ§åˆ¶">4.3.4 å·¥å…·æƒé™æ§åˆ¶</h4>
<pre><code class="language-json"><code class="sourceCode json"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tools&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;exec&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ask&quot;</span><span class="fu">:</span> <span class="st">&quot;on-miss&quot;</span>  <span class="er">//</span> <span class="er">æ•æ„Ÿå‘½ä»¤éœ€è¦ç¡®è®¤</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;safeBins&quot;</span><span class="er">:</span> <span class="ot">[</span><span class="st">&quot;ls&quot;</span><span class="ot">,</span> <span class="st">&quot;date&quot;</span><span class="ot">]</span>  <span class="er">//</span> <span class="er">å®‰å…¨å‘½ä»¤ç™½åå•</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h4 id="æ²™ç®±éš”ç¦»">4.3.5 æ²™ç®±éš”ç¦»</h4>
<pre><code class="language-json"><code class="sourceCode json"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;agents&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;defaults&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sandbox&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;mode&quot;</span><span class="fu">:</span> <span class="st">&quot;non-main&quot;</span>  <span class="er">//</span> <span class="er">é</span> <span class="er">main</span> <span class="er">ä¼šè¯åœ¨</span> <span class="er">Docker</span> <span class="er">æ²™ç®±ä¸­è¿è¡Œ</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h3 id="å®é™…é£é™©å¯¹æ¯”">4.4 å®é™…é£é™©å¯¹æ¯”</h3>
<table>
<thead>
<tr>
<th>é£é™©ç±»å‹</th>
<th>ä¼ ç»Ÿäº‘ç«¯ ChatGPT</th>
<th>Clawdbot</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¯¹è¯å†å²</td>
<td>âœ… å…¨éƒ¨ä¸Šä¼ </td>
<td>âœ… å…¨éƒ¨ä¸Šä¼ </td>
<td>é£é™©ç›¸åŒ</td>
</tr>
<tr>
<td>å·¥å…·æ‰§è¡Œç»“æœ</td>
<td>âŒ æ²¡æœ‰</td>
<td>âš ï¸ ä¼šä¸Šä¼ </td>
<td>Clawdbot ç‰¹æœ‰é£é™©</td>
</tr>
<tr>
<td>æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</td>
<td>âŒ æ— æ³•è®¿é—®</td>
<td>âš ï¸ Agent å¯è¯»å–</td>
<td>Clawdbot ç‰¹æœ‰é£é™©</td>
</tr>
<tr>
<td>ç³»ç»Ÿé…ç½®</td>
<td>âŒ ä¸æ¶‰åŠ</td>
<td>âš ï¸ ä¼šæ³¨å…¥åˆ° prompt</td>
<td>Clawdbot ç‰¹æœ‰é£é™©</td>
</tr>
<tr>
<td>æ•°æ®ç¦»å¼€è®¾å¤‡</td>
<td>âœ… å…¨éƒ¨</td>
<td>âš ï¸ éƒ¨åˆ†ä¸Šä¼ </td>
<td>Clawdbot æœ¬åœ°æ“ä½œéƒ¨åˆ†ä¸ä¸Šä¼ </td>
</tr>
</tbody>
</table>
<p><strong>å…³é”®ç‚¹ï¼š</strong> - <strong>Clawdbot
çš„â€æœ¬åœ°ä¼˜å…ˆâ€ä¸»è¦ä½“ç°åœ¨å·¥å…·æ‰§è¡Œï¼ˆexecã€fileï¼‰ï¼Œä¸ä½“ç°åœ¨ LLM
è°ƒç”¨ä¸Š</strong> - <strong>LLM
è°ƒç”¨æœ¬èº«ä»ç„¶æ˜¯äº‘ç«¯çš„</strong>ï¼ˆé™¤éä½¿ç”¨æœ¬åœ°æ¨¡å‹å¦‚ Ollamaï¼‰</p>
<hr />
<h3 id="ç½‘ç»œä¼ è¾“å®‰å…¨">4.5 ç½‘ç»œä¼ è¾“å®‰å…¨</h3>
<pre class="plaintext"><code>ä½ çš„è®¾å¤‡                     ISP                   LLM API æœåŠ¡å™¨
     â”‚                              â”‚                    â”‚
     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                    â”‚
     â”‚ â”‚ HTTPS åŠ å¯†    â”‚        â”‚                    â”‚
     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                    â”‚
     â”‚                              â”‚                    â”‚
     â–¼                              â–¼                    â”‚
    TLS 1.3 åŠ å¯†ä¼ è¾“                â”‚</code></pre>
<p><strong>å®‰å…¨çš„éƒ¨åˆ†ï¼š</strong> - âœ… ä¼ è¾“ä½¿ç”¨ TLS 1.3 åŠ å¯† - âœ…
ä¸­é—´äººæ— æ³•çœ‹åˆ°å†…å®¹ - âœ… å¤§å¤šæ•° reputable API æä¾›å•†æœ‰ä¸¥æ ¼çš„éšç§æ”¿ç­–</p>
<p><strong>å¯èƒ½æš´éœ²çš„ï¼š</strong> - âš ï¸ <strong>å…ƒæ•°æ®</strong>ï¼šIP
åœ°å€ã€è¯·æ±‚æ—¶é—´ã€API ç«¯ç‚¹ - âš ï¸
<strong>ä½¿ç”¨æ¨¡å¼</strong>ï¼šè¯·æ±‚é¢‘ç‡ã€å¤§è‡´ä½¿ç”¨é‡ - âš ï¸
<strong>æ¨¡å‹æä¾›å•†</strong>ï¼šçŸ¥é“ä½ åœ¨ä½¿ç”¨å“ªä¸ªæœåŠ¡</p>
<hr />
<h3 id="å¦‚ä½•æœ€å¤§ç¨‹åº¦é™ä½é£é™©">4.6 å¦‚ä½•æœ€å¤§ç¨‹åº¦é™ä½é£é™©ï¼Ÿ</h3>
<h4 id="ä½¿ç”¨æœ¬åœ°æ¨¡å‹æœ€ä½³">4.6.1 ä½¿ç”¨æœ¬åœ°æ¨¡å‹ï¼ˆæœ€ä½³ï¼‰</h4>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># é…ç½®æœ¬åœ° Ollama</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> config set models.providers.ollama.baseUrl http://localhost:11434</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> config set models.providers.ollama.apiKey local</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ä¹‹åæ‰€æœ‰å¯¹è¯éƒ½åœ¨æœ¬åœ°å®Œæˆ</span></span></code></pre></div>
<hr />
<h4 id="æ•æ„Ÿä¿¡æ¯ä¸è¦å†™åœ¨å¯¹è¯ä¸­">4.6.2 æ•æ„Ÿä¿¡æ¯ä¸è¦å†™åœ¨å¯¹è¯ä¸­</h4>
<pre><code class="language-javascript"><code class="sourceCode javascript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">// âŒ ä¸æ¨è</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;æˆ‘çš„å¯†ç æ˜¯ abc123ï¼Œå¸®æˆ‘ç™»å½•&quot;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">// âœ… æ¨èï¼ˆé€šè¿‡æœ¬åœ°å·¥å…·ï¼‰</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;è¯·åœ¨æœ¬åœ°è¾“å…¥å¯†ç &quot;</span></span></code></pre></div>
<hr />
<h4 id="å®šæœŸé‡ç½®ä¼šè¯">4.6.3 å®šæœŸé‡ç½®ä¼šè¯</h4>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> config set agents.defaults.session.reset.mode daily</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># æ¯å¤©æ¸…é™¤å†å²ï¼Œæ—§å¯¹è¯ä¸ä¼šæŒç»­å‘é€</span></span></code></pre></div>
<hr />
<h4 id="ç¦ç”¨æŸäº›å·¥å…·">4.6.4 ç¦ç”¨æŸäº›å·¥å…·</h4>
<pre><code class="language-json"><code class="sourceCode json"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tools&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;deny&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;exec&quot;</span><span class="ot">,</span> <span class="st">&quot;read&quot;</span><span class="ot">]</span>  <span class="er">//</span> <span class="er">ç¦æ­¢æ–‡ä»¶æ“ä½œ</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h4 id="é€‰æ‹©éšç§ä¼˜å…ˆçš„æä¾›å•†">4.6.5 é€‰æ‹©éšç§ä¼˜å…ˆçš„æä¾›å•†</h4>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Anthropic æ‰¿è¯ºä¸ä½¿ç”¨å®¢æˆ·æ•°æ®è®­ç»ƒ</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> config set agent.model anthropic/claude-opus-4-5</span></code></pre></div>
<hr />
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<h3 id="å…³é”®è®¤çŸ¥">5.1 å…³é”®è®¤çŸ¥</h3>
<ul>
<li>âŒ <strong>â€œæœ¬åœ°ä¼˜å…ˆâ€â‰  â€œå®Œå…¨ç¦»çº¿â€</strong></li>
<li>âŒ <strong>â€œæœ¬åœ°è¿è¡Œâ€â‰  â€œæ•°æ®ä¸ç¦»å¼€è®¾å¤‡â€</strong></li>
<li>âœ… <strong>çœŸæ­£çš„æœ¬åœ°å®‰å…¨åªæœ‰ï¼šæœ¬åœ°
LLMï¼ˆOllama/Llamafileï¼‰</strong></li>
</ul>
<h3 id="clawdbot-çš„ä»·å€¼">5.2 Clawdbot çš„ä»·å€¼</h3>
<p><strong>Clawdbot çš„ä»·å€¼åœ¨äºç»™äº†ä½ é€‰æ‹©æƒï¼š</strong> - âœ…
ä½ å¯ä»¥ç”¨äº‘ç«¯æ¨¡å‹ï¼ˆæ›´å¿«ã€æ›´å¼ºï¼‰ - âœ… ä¹Ÿå¯ä»¥ç”¨æœ¬åœ°æ¨¡å‹ï¼ˆå®Œå…¨ç§å¯†ï¼‰ - âœ…
æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„æ¨¡å¼</p>
<p><strong>è¿™æ˜¯æƒè¡¡ï¼Œä¸æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚ğŸ”</strong></p>
<hr />
<h2 id="é™„å½•å¿«é€Ÿå‚è€ƒ">é™„å½•ï¼šå¿«é€Ÿå‚è€ƒ</h2>
<h3 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h3>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gateway ç®¡ç†</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> gateway start     <span class="co"># å¯åŠ¨ Gateway</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> gateway stop      <span class="co"># åœæ­¢ Gateway</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> gateway restart   <span class="co"># é‡å¯ Gateway</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> status           <span class="co"># æŸ¥çœ‹çŠ¶æ€</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co"># å‘é€æ¶ˆæ¯</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> message send <span class="at">--to</span> <span class="op">&lt;</span>ç›®æ ‡<span class="op">&gt;</span> --message <span class="st">&quot;å†…å®¹&quot;</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># é…ç½®</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> config get <span class="op">&lt;</span>è·¯å¾„<span class="op">&gt;</span>     <span class="co"># è·å–é…ç½®</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> config set <span class="op">&lt;</span>è·¯å¾„<span class="op">&gt;</span> <span class="op">&lt;</span>å€¼<span class="op">&gt;</span> <span class="co"># è®¾ç½®é…ç½®</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> config list           <span class="co"># åˆ—å‡ºé…ç½®</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co"># è°ƒè¯•</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="ex">clawdbot</span> doctor              <span class="co"># è¯Šæ–­é—®é¢˜</span></span></code></pre></div>
<h3 id="é…ç½®æ–‡ä»¶è·¯å¾„">é…ç½®æ–‡ä»¶è·¯å¾„</h3>
<pre><code class="language-bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ä¸»é…ç½®æ–‡ä»¶</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">~/.clawdbot/clawdbot.json</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># å·¥ä½œåŒºï¼ˆé»˜è®¤ï¼‰</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="ex">~/clawd/</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># å·¥ä½œåŒº AGENTS.md</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="ex">~/clawd/AGENTS.md</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># å·¥ä½œåŒº SOUL.md</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="ex">~/clawd/SOUL.md</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ä¼šè¯å­˜å‚¨</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="ex">~/.clawdbot/sessions/</span></span></code></pre></div>
<h3 id="å®‰å…¨å»ºè®®">å®‰å…¨å»ºè®®</h3>
<ol type="1">
<li>âœ… ä½¿ç”¨æœ¬åœ°æ¨¡å‹å¤„ç†æ•æ„Ÿä¿¡æ¯</li>
<li>âœ… å®šæœŸæ¸…ç†ä¼šè¯å†å²ï¼ˆdaily resetï¼‰</li>
<li>âœ… ä¸è¦åœ¨å¯¹è¯ä¸­è®¨è®ºæ•æ„Ÿè¯é¢˜ï¼ˆå¦‚ä½¿ç”¨äº‘ç«¯æ¨¡å‹ï¼‰</li>
<li>âœ… ç¦ç”¨ä¸éœ€è¦çš„æ–‡ä»¶æ“ä½œå·¥å…·</li>
<li>âœ… é€‰æ‹©éšç§ä¼˜å…ˆçš„ LLM æä¾›å•†</li>
<li>âœ… äº†è§£å¹¶æ¥å—è¿™æ˜¯äº‘ç«¯ AI çš„å›ºæœ‰ç‰¹æ€§</li>
</ol>
<hr />
<p><strong>æ–‡æ¡£ç‰ˆæœ¬ï¼š</strong> v1.0<br />
<strong>æœ€åæ›´æ–°ï¼š</strong> 2026-01-29<br />
<strong>ä½œè€…ï¼š</strong> Clawdbot ç¤¾åŒºè´¡çŒ®</p>

                </article>
            </div>
        </section>

        <!-- å³ä¾§çƒ­é—¨æ–‡ç«  -->
        <aside class="popular-sidebar">
            <div class="popular-header">
                <h3>çƒ­é—¨æ–‡ç« </h3>
            </div>
            <div class="popular-list" id="popular-list">
                <!-- åŠ¨æ€ç”Ÿæˆçš„çƒ­é—¨æ–‡ç« åˆ—è¡¨ -->
            </div>
        </aside>
    </main>

    <!-- JavaScript -->
    <script type="module" src="/script.js?v=2.2.0"></script>
    
    <!-- Initialize Highlight.js -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Highlight all code blocks
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
        });
    </script>
</body>
</html>